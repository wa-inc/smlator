import os
import subprocess

# Define the APK URL
APK_URL = "https://github.com/brunodev85/winlator/releases/download/v5.0.0/Winlator_5.0.apk"

# Define the APK file name
APK_FILE = "Winlator_5.0.apk"

# Define the command to launch the app
LAUNCH_COMMAND = "am start --user 0 -n com.winlator/.MainActivity"

# Function to show the menu
def smgaming():
    while True:
        print("1. Launch Winlator")
        print("2. Uninstall the script")
        choice = input("Please enter your choice: ")

        if choice == '1':
            print("Launching Winlator...")
            os.system(LAUNCH_COMMAND)
            break
        elif choice == '2':
            print("Uninstalling the script...")
            os.remove(__file__)
            break
        else:
            print("Invalid choice.")

# Check if the APK file exists in the current directory
if not os.path.isfile(APK_FILE):
    print("Downloading Winlator APK...")
    os.system(f'wget {APK_URL}')

# Install the APK
print("Installing Winlator...")
os.system('pkg install termux-tools')
os.system('termux-setup-storage')
os.system('tsu')
os.system(f'pm install {APK_FILE}')

# Show the menu
smgaming()
